# ch5 ë²ˆì™¸(1).Swagger

<aside>
ğŸ¤” êµì¬ì˜ Swagger ë° Logback êµ¬í˜„ë°©ë²•ê³¼ ë‹¤ë¦…ë‹ˆë‹¤. ì±…ì´ ì¶œê°„ëœ ì‹œì ìœ¼ë¡œë¶€í„° ì–¸ì–´, ìŠ¤í”„ë§ë¶€íŠ¸ ë²„ì „, Swagger ë° Logback êµ¬í˜„ ë°©ë²•ì´ ì—…ë°ì´íŠ¸ë˜ì–´ ìƒˆë¡­ê²Œ ê³µë¶€í•˜ê³  ê¸°ë¡í•˜ì˜€ìŠµë‹ˆë‹¤.

</aside>

### 1. Swagger ì˜ì¡´ì„± ì„¤ì •í•˜ê¸°

- maven â†’ pom.xml
- spring 3.x.xë¶€í„°ëŠ” spring fox(x) springdoc-openapi-ui (o)

```java
<dependencies>
...
<dependency>
    <groupId>org.springdoc</groupId>
    <artifactId>springdoc-openapi-starter-webmvc-ui</artifactId>
    <version>2.2.0</version>
</dependency>
...
<dependencies>
```

### 2. Swagger ê¸°ë³¸ ì„¤ì •ë¬¸ì„œ ì‘ì„±

```java
package com.springboot.jpa.config;

import io.swagger.v3.oas.annotations.OpenAPIDefinition;
import io.swagger.v3.oas.annotations.info.Info;
import org.springframework.context.annotation.Configuration;

@OpenAPIDefinition(
        info = @Info(title = "ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ API ëª…ì„¸ì„œ",
                description = "êµì¬ ch6 êµ¬í˜„ API ëª…ì„¸ì„œ",
                version = "v1"))
@Configuration
public class SwaggerConfig {

}
```

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-10-24 á„‹á…©á„’á…® 7.24.52.png](ch5%20%E1%84%87%E1%85%A5%E1%86%AB%E1%84%8B%E1%85%AC(1)%20Swagger%20b7530bc076e04014b99f88a438259090/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-10-24_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_7.24.52.png)

- Run(ì‹¤í–‰) í›„ [http://localhost:8080/swagger-ui/index.html](http://localhost:8080/swagger-ui/index.html)
- êµ¬í˜„ëœ í™”ë©´
    
    ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-10-24 á„‹á…©á„’á…® 7.27.00.png](ch5%20%E1%84%87%E1%85%A5%E1%86%AB%E1%84%8B%E1%85%AC(1)%20Swagger%20b7530bc076e04014b99f88a438259090/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-10-24_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_7.27.00.png)
    

### 3. Controllerì— Swagger annotation ë¶™ì´ê¸°

```java
package com.springboot.jpa.controller;

//importë¬¸..

@Tag(name = "ìƒí’ˆ ì»¨íŠ¸ë¡¤ëŸ¬", description = "ìƒí’ˆ ì¡°íšŒ, ë“±ë¡, ì‚­ì œ, ìˆ˜ì • APIì…ë‹ˆë‹¤.")
@RestController
@RequestMapping("/product")
public class ProductController {

    private final ProductService productService;

    @Autowired
    public ProductController(ProductService productService){
        this.productService = productService;
    }

    @Operation(summary = "ìƒí’ˆ ì¡°íšŒ", description = "ìƒí’ˆ ë“±ë¡ì‹œ numberë¥¼ ì…ë ¥í•˜ë©´ í•´ë‹¹ ìƒí’ˆì„ ì¡°íšŒí•©ë‹ˆë‹¤.")
    @GetMapping()
    public ResponseEntity<ProductResponseDto> getProduct(Long number){
        ProductResponseDto productResponseDto = productService.getProduct(number);

        return ResponseEntity.status(HttpStatus.OK).body(productResponseDto);
    }

    @Operation(summary = "ìƒí’ˆ ë“±ë¡", description = "ìƒí’ˆ ë“±ë¡ì‹œ ìƒí’ˆëª…, ìƒí’ˆ ê°€ê²©, ìƒí’ˆ ì¬ê³ ìˆ˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.")
    @PostMapping()
    public ResponseEntity<ProductResponseDto> createProduct(@RequestBody ProductDto productDto){
        ProductResponseDto productResponseDto = productService.saveProduct(productDto);

        return ResponseEntity.status(HttpStatus.OK).body(productResponseDto);
    }

    @Operation(summary = "ìƒí’ˆ ì´ë¦„ ë³€ê²½", description = "ë³€ê²½í•˜ê³  ì‹¶ì€ ìƒí’ˆì˜ ë“±ë¡ ë²ˆí˜¸ì™€ ë°”ê¿€ ìƒí’ˆëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.")
    @PutMapping
    public ResponseEntity<ProductResponseDto> changeProductName(
            @RequestBody ChangeProductNameDto changeProductNameDto) throws Exception{
            ProductResponseDto productResponseDto = productService.changeProductName(
                    changeProductNameDto.getNumber(),
                    changeProductNameDto.getName());
            return ResponseEntity.status(HttpStatus.OK).body(productResponseDto);
    }

    @Operation(summary = "ìƒí’ˆ í’ˆëª© ì‚­ì œ", description = "ì‚­ì œí•˜ê³  ì‹¶ì€ ìƒí’ˆì˜ ë“±ë¡ ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!")
    @DeleteMapping()
    public ResponseEntity<String> deleteProduct(Long number) throws Exception{
        productService.deleteProduct(number);

        return ResponseEntity.status(HttpStatus.OK).body("ì •ìƒì ìœ¼ë¡œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤~ ë€½");
    }

}
```

- @Tag(name = "â€¦", description = "â€¦")
    - API ê·¸ë£¹ ì„¤ì •
    - ì»¨íŠ¸ë¡¤ëŸ¬ í´ë˜ìŠ¤ì˜ ì´ë¦„ê³¼ ì„¤ëª… - ì»¨íŠ¸ë¡¤ëŸ¬ í´ë˜ìŠ¤ annotation
- @Operation(summary = â€œâ€¦â€, description = â€â€¦â€)
    - API ìƒì„¸ ì •ë³´ ì„¤ì •
    - ì»¨íŠ¸ë¡¤ëŸ¬ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œ - ë©”ì„œë“œ annotation
- Swagger êµ¬í˜„í™”ë©´ ì˜ˆì‹œ
    
    ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-10-24 á„‹á…©á„’á…® 7.58.57.png](ch5%20%E1%84%87%E1%85%A5%E1%86%AB%E1%84%8B%E1%85%AC(1)%20Swagger%20b7530bc076e04014b99f88a438259090/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-10-24_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_7.58.57.png)
    

### 4. DTOì— Swagger annotation ë¶™ì´ê¸°

```java
package com.springboot.jpa.data.dto;

//importë¬¸..

@Data
public class ProductDto {

    @Schema(description = "ìƒí’ˆëª…", example = "Cindy")
    private String name;

    @Schema(description = "ìƒí’ˆ ê°€ê²©", example = "12300")
    private int price;
    @Schema(description = "ìƒí’ˆ ì¬ê³ ", example = "100")
    private int stock;

    //ìƒì„±ì.. getter&setterë¬¸...
}
```

- @Schema(description = â€œâ€¦â€, example= â€œâ€¦â€)

### ì°¸ê³  ìë£Œ

- [https://wonsjung.tistory.com/584](https://wonsjung.tistory.com/584) (â­ï¸)
- [https://velog.io/@juhyeon1114/Springdocìœ¼ë¡œ-Swaggerë¬¸ì„œ-ìƒì„±í•˜ê¸°-Spring-boot-3.0-ì´ìƒ](https://velog.io/@juhyeon1114/Springdoc%EC%9C%BC%EB%A1%9C-Swagger%EB%AC%B8%EC%84%9C-%EC%83%9D%EC%84%B1%ED%95%98%EA%B8%B0-Spring-boot-3.0-%EC%9D%B4%EC%83%81) (â­ï¸)
- [https://resilient-923.tistory.com/414](https://resilient-923.tistory.com/414)
- [https://adjh54.tistory.com/72#3. Config íŒŒì¼ êµ¬ì„±-1](https://adjh54.tistory.com/72#3.%20Config%20%ED%8C%8C%EC%9D%BC%20%EA%B5%AC%EC%84%B1-1)